function checkValid(){let n=!0,t="";return $("#WriterName").val()==""&&(n=!1,t+="The name is required.\n\n"),$("#Phone").val()==""&&(n=!1,t+="The Phone number is required.\n\n"),$("#Email").val()==""&&(n=!1,t+="The Email is required.\n\n"),$("#Agency").val()==""&&(n=!1,t+="The agency is required.\n\n"),$("#FirstName").val()==""&&(n=!1,t+="The first name is required.\n\n"),$("#LastName").val()==""&&(n=!1,t+="The last name is required.\n\n"),$("#Address").val()==""&&(n=!1,t+="The address is required.\n\n"),$("#City").val()==""&&(n=!1,t+="The city is required.\n\n"),$("#Zip").val()==""&&(n=!1,t+="The zip is required.\n\n"),n?$("#next").attr("class","btn btn-primary"):$("#next").attr("class","btn btn-secondary"),{isValid:n,message:t}}$("#Zip").on("change",function(){$.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json?address="+$("#Zip").val()+"&key=",success:function(t){if(t.status!=="ZERO_RESULTS"){var r="";for(i=0;i<t.results.length;i++){for(result=t.results[i],adresses=result.address_components,n=adresses.length,j=0;j<n;j++)type=adresses[j].types[0],type=="locality"&&(r=adresses[j].long_name),type=="administrative_area_level_2"&&(r=adresses[j].long_name);r!=="Sonoma County"&&r!=="Cloverdale"&&($("#Zip").val(""),$("#notSonoma").modal("show"))}}else $("#Zip").val(""),$("#notSonoma").modal("show")}})});$("#next").on("click",function(){const{isValid:n,message:t}=checkValid();if(n){var i={Address:$("#Address").val(),City:$("#City").val(),Zip:$("#Zip").val()};$.ajax({dataType:"json",url:"/SantaLetter/VerifyAddress",data:i,type:"POST",success:function(n){n.status==="suggested"?($("#suggested_address").html(n.suggestedAddress.address),$("#suggested_city").html(n.suggestedAddress.city),$("#suggested_zip").html(n.suggestedAddress.zip),$("#modalSuggestedAddress").modal("show")):$("form#writerinfo").submit()},error:function(){window.location.href="/Error"}})}else swal({text:t,icon:"warning"})});$("#submit").on("click",function(){$("#use_suggested").is(":checked")&&($("#Address").val($("#suggested_address").html()),$("#City").val($("#suggested_city").html()),$("#Zip").val($("#suggested_zip").html()));$("form#writerinfo").submit()});$("#WriterName, #Phone, #Email, #FirstName, #LastName, #Address, #City, #Zip").on("keyup",function(){checkValid()});$("#Agency").on("change",function(){checkValid()});
$(document).ready(function(){function r(){var n="Name: "+$("#Name").val()+" Age: "+$("#Age").val()+" - "+$("#Gender").val();$("#AgeType").val()=="months"&&(n="Name: "+$("#Name").val()+" Age: "+$("#Age").val()+"m - "+$("#Gender").val());$("#heart_name_age_gender").html(n)}function t(){var n="";n=$("Detail1").length||$("#Detail2").length?$("#Detail2").length?"First Wish: "+$("#GiftWish").val()+": "+$("#Detail1").val()+"; "+$("#Detail2").val():"First Wish: "+$("#GiftWish").val()+": "+$("#Detail1").val():"First Wish: "+$("#GiftWish").val();$("#giftwish").html(n)}function i(){var n="";n=$("#AltDetail1").length||$("#AltDetail2").length?$("#AltDetail2").length?"Second Wish: "+$("#AltGiftWish").val()+": "+$("#AltDetail1").val()+"; "+$("#AltDetail2").val():"Second Wish: "+$("#AltGiftWish").val()+": "+$("#AltDetail1").val():"Second Wish: "+$("#AltGiftWish").val();$("#altgiftwish").html(n)}function u(t){var i=n.find(n=>n.giftDetailId==t);$("#giftWishDescription").html("");i.giftIdeaDescription!=null&&($("#giftWishDescription").html(i.GiftIdeaDescription),i.GiftDetailText=="Bike"&&$("#showSize").css("display","block"));$("#giftWishDetails").empty();strHtml="";i.lblGiftDetail1!=null&&(strHtml+="<div>",strHtml+="<label for='GiftDetail1' class='col-form-label'>"+i.lblGiftDetail1+"<\/label>",strHtml+="<input type='text' id='Detail1' class='form-control' maxlength='15'><\/input>",strHtml+="<\/div>");i.lblGiftDetail2!=null&&(strHtml+="<div>",strHtml+="<label for='GiftDetail2' class='col-form-label'>"+i.lblGiftDetail2+"<\/label>",strHtml+="<input type='text' id='Detail2' class='form-control' maxlength='15'><\/input>",strHtml+="<\/div>");$("#giftWishDetails").html(strHtml)}function f(t){$("#altGiftWishDescription").html("");var i=n.find(n=>n.giftDetailId==t);i.giftIdeaDescription!=null&&($("#altGiftWishDescription").html(i.giftIdeaDescription),i.GiftDetailText=="Bike"&&$("#altShowSize").css("display","block"));$("#altGiftWishDetails").empty();strHtml="";i.lblGiftDetail1!=null&&(strHtml+="<div>",strHtml+="<label for='AltDetail1' class='col-form-label'>"+i.lblGiftDetail1+"<\/label>",strHtml+="<input type='text' id='AltDetail1' maxlength='15' class='form-control'><\/input>",strHtml+="<\/div>");i.lblGiftDetail2!=null&&(strHtml+="<div>",strHtml+="<label for='AltGiftDetail2' class='col-form-label'>"+i.lblGiftDetail2+"<\/label>",strHtml+="<input type='text' id='AltDetail2' maxlength='15' class='form-control'><\/input>",strHtml+="<\/div>");$("#altGiftWishDetails").html(strHtml)}function e(i){var r=n.find(n=>n.giftDetailId==i);$("#giftWishDescription").html("");r.giftIdeaDescription!=null&&($("#giftWishDescription").html(r.giftIdeaDescription),r.giftDetailText=="Bike"&&$("#showSize").css("display","block"));strHtml="";r.lblGiftDetail1!=null&&(strHtml+="<div>",strHtml+="<label for='GiftDetail1' class='col-form-label'>"+r.lblGiftDetail1+"<\/label>",strHtml+="<input type='text' id='Detail1' class='form-control' maxlength='15' value = '"+$("#GiftDetail1").val()+"'><\/input>",strHtml+="<\/div>");r.lblGiftDetail2!=null&&(strHtml+="<div>",strHtml+="<label id='GiftDetail2' class='col-form-label'>"+r.lblGiftDetail2+"<\/label>",strHtml+="<input type='text' id='Detail2' class='form-control' maxlength='15' value = '"+$("#GiftDetail2").val()+"'><\/input>",strHtml+="<\/div>");$("#giftWishDetails").html(strHtml);t()}function o(t){var r=n.find(n=>n.giftDetailId==t);$("#altGiftWishDescription").html("");r.giftIdeaDescription!=null&&($("#altGiftWishDescription").html(r.giftIdeaDescription),r.giftDetailText=="Bike"&&$("#altShowSize").css("display","block"));strHtml="";r.lblGiftDetail1!=null&&(strHtml+="<div>",strHtml+="<label for='AltGiftDetail1' class='col-form-label'>"+r.lblGiftDetail1+"<\/label>",strHtml+="<input type='text' id='AltDetail1' class='form-control' value = '"+$("#AltGiftDetail1").val()+"'><\/input>",strHtml+="<\/div>");r.lblGiftDetail2!=null&&(strHtml+="<div>",strHtml+="<label for='AltGiftDetail2' class='col-form-label'>"+r.lblGiftDetail2+"<\/label>",strHtml+="<input type='text' id='AltDetail2' class='form-control' value = '"+$("#AltGiftDetail2").val()+"'><\/input>",strHtml+="<\/div>");$("#altGiftWishDetails").html(strHtml);i()}r();$("#heart_recipient_info").html($("#RecipientInfo").val());var n=[];$.ajax({url:"/GiftRecipient/GetGiftDetails",success:function(t){for(var f,r,u,i=0;i<t.result.length;i++)f={giftDetailId:t.result[i].giftDetailId,giftIdeaDescription:t.result[i].giftIdeaDescription,giftDetailText:t.result[i].giftDetailText,lblGiftDetail1:t.result[i].lblGiftDetail1,lblGiftDetail2:t.result[i].lblGiftDetail2},n.push(f);r=$("#GiftType").val();r!=""&&e(r);u=$("#AltGiftType").val();u!=""&&o(u)},error:function(n){alert(n.responseText)}});$("#GiftType").change(function(){$("#showSize").css("display","none");var n=$(this).val();n!=""&&u(n);$("#GiftType option:selected").text()=="Gift Card"?$("#GiftWish").val("Gift Card"):$("#GiftWish").val("");$("#giftwish").empty()});$("#AltGiftType").change(function(){$("#altShowSize").css("display","none");var n=$(this).val();n!=""&&f(n);$("#AltGiftType option:selected").text()=="Gift Card"?$("#AltGiftWish").val("Gift Card"):$("#AltGiftWish").val("");$("#altgiftwish").empty()});$("#showSize").on("click",function(){$("#mdl").modal("show")});$("#altShowSize").on("click",function(){$("#mdl").modal("show")});$("#giftWishDetails").on("change","input[id=gift1]",function(){$("#GiftDetail1").val($(this).val())});$("#giftWishDetails").on("change","input[id=gift2]",function(){$("#GiftDetail2").val($(this).val())});$("#altGiftWishDetails").on("change","input[id = altgift1]",function(){$("#AltGiftDetail1").val($(this).val())});$("#altGiftWishDetails").on("change","input[id=altgift2]",function(){$("#AltGiftDetail2").val($(this).val())});$("#btnNameInfo").click(function(){$("#modalNameInfo").modal("show")});$(".info-wish").click(function(){$("#modalWishInfo").modal("show")});$("#btnRecipientInfo").click(function(){$("#modalRecipientInfo").modal("show")});$(".name_age_gender").keyup(function(){r()});$(".name_age_gender_dropdown").change(function(){r()});$("#RecipientInfo").keyup(function(){$("#heart_recipient_info").html($("#RecipientInfo").val())});$("#GiftWish").keyup(function(){t()});$(document).on("keyup","#Detail1",function(){t()});$(document).on("keyup","#Detail2",function(){t()});$("#AltGiftWish").keyup(function(){i()});$(document).on("keyup","#AltDetail1",function(){i()});$(document).on("keyup","#AltDetail2",function(){i()});$("#btnSaveSubmit").click(function(){var t,i,u,r,f;$("#errorMessage").empty();t="";i=!0;$("#Name").val()==""&&(i=!1,t+="Name is required<br/>");$("#Age").val()==""&&(i=!1,t+="Age is required<br/>");$("#AgeType").val()==""&&(i=!1,t+="Age type is required<br/>");$("#Gender").val()==""&&(i=!1,t+="Gender is required<br/>");$("#RecipientInfo").val()==""&&(i=!1,t+="Info is required<br/>");$("#GiftType").val()==""&&(i=!1,t+="Gift type is required<br/>");$("#GiftWish").val()==""&&(i=!1,t+="Gift wish is required<br/>");$("#AltGiftType").val()==""&&(i=!1,t+="Second gift type is required<br/>");$("#AltGiftWish").val()==""&&(i=!1,t+="Second gift wish is required<br/>");$("#locationNecessary").val()=="True"&&$("#Location").val()==""&&(i=!1,t+="Location is required<br/>");u=$("#GiftType").val();u!==""&&(r=n.find(n=>n.giftDetailId==u),r.lblGiftDetail1!=null&&$("#Detail1").val()==""&&(i=!1,t+="Detail is required<br/>"),r.lblGiftDetail2!=null&&$("#Detail2").val()==""&&(i=!1,t+="Detail is required<br/>"));ida=$("#AltGiftType").val();ida!=""&&(r=n.find(n=>n.giftDetailId==ida),r.lblGiftDetail1!=null&&$("#AltDetail1").val()==""&&(i=!1,t+="Detail is required<br/>"),r.lblGiftDetail2!=null&&$("#AltDetail2").val()==""&&(i=!1,t+="Detail is required<br/>"));$("#GiftType option:selected").text()=="Gift Card"&&$("#AltGiftType option:selected").text()=="Gift Card"&&(i="false",t+="Only one gift wish can be a gift card<br/>");$("#Age").val()!=""&&($("#GiftType option:selected").text()=="Gift Card"||$("#AltGiftType option:selected").text()=="Gift Card")&&$("#Age").val()<10&&(i=!1,t+="No child under 10 can receive a gift card.");i?($(this).attr("disabled","disabled"),f={Location:$("#Location").val(),RecipientNum:$("#RecipientNum").val(),Name:$("#Name").val(),Age:$("#Age").val(),AgeType:$("#AgeType").val(),Gender:$("#Gender").val(),RecipientInfo:$("#RecipientInfo").val(),GiftWish:$("#GiftWish").val(),GiftType:$("#GiftType").val(),GiftDetail1:$("#Detail1").val(),GiftDetail2:$("#Detail2").val(),AltGiftWish:$("#AltGiftWish").val(),AltGiftType:$("#AltGiftType").val(),AltGiftDetail1:$("#AltDetail1").val(),AltGiftDetail2:$("#AltDetail2").val(),Status:"20"},$.ajax({dataType:"json",url:"/GiftRecipient/EditGiftRecipient",data:f,type:"POST",success:function(){window.location.href="/GiftRecipient/Index"},error:function(){window.location.href="/Error"}})):($("#errorMessage").html(t),$("#modalWarning").modal("show"))});$("#btnSaveEdit").click(function(){var n,t,i;$("#errorMessage").empty();n="";t=!0;$("#Name").val()==""&&(t=!1,n+="Name is required");$("#GiftType option:selected").text()=="Gift Card"&&$("#AltGiftType option:selected").text()=="Gift Card"&&(t="false",n+="Only one gift wish can be a gift card<br/>");$("#Age").val()!=""&&($("#GiftType option:selected").text()=="Gift Card"||$("#AltGiftType option:selected").text()=="Gift Card")&&$("#Age").val()<10&&(t=!1,n+="No child under 10 can receive a gift card.");$("#locationNecessary").val()=="True"&&$("#Location").val()==""&&(t=!1,n+="Location is required<br/>");t?($(this).attr("disabled","disabled"),i={Location:$("#Location").val(),RecipientNum:$("#RecipientNum").val(),Name:$("#Name").val(),Age:$("#Age").val(),AgeType:$("#AgeType").val(),Gender:$("#Gender").val(),RecipientInfo:$("#RecipientInfo").val(),GiftWish:$("#GiftWish").val(),GiftType:$("#GiftType").val(),GiftDetail1:$("#Detail1").val(),GiftDetail2:$("#Detail2").val(),AltGiftWish:$("#AltGiftWish").val(),AltGiftType:$("#AltGiftType").val(),AltGiftDetail1:$("#AltDetail1").val(),AltGiftDetail2:$("#AltDetail2").val(),Status:"10"},$.ajax({dataType:"json",url:"/GiftRecipient/EditGiftRecipient",data:i,type:"POST",success:function(){window.location.href="/GiftRecipient/Index"},error:function(){window.location.href="/Error"}})):($("#errorMessage").html(n),$("#modalWarning").modal("show"))})});
$(function(){function o(n){var i=document.querySelector(".error"),r,t;i.classList.remove("visible");n.token?(r=document.getElementById("payment-form"),t=document.createElement("input"),t.setAttribute("type","hidden"),t.setAttribute("name","stripeToken"),t.setAttribute("value",n.token.id),r.appendChild(t),r.submit()):n.error&&(i.textContent=n.error.message,i.classList.add("visible"))}var r,u,e;$("#Amount").maskMoney({prefix:"$ ",allowNegative:!1,thousands:".",decimal:".",affixesStay:!1});$("#Amount").val($("#amt").val());var f=Stripe($("#StripePublishableKey").val()),n=f.elements(),t={base:{iconColor:"#666EE8",color:"#31325F",lineHeight:"40px",fontWeight:300,fontFamily:"Helvetica Neue",fontSize:"15px","::placeholder":{color:"#CFD7E0"}}},i=n.create("cardNumber",{style:t});i.mount("#card-number-element");r=n.create("cardExpiry",{style:t});r.mount("#card-expiry-element");u=n.create("cardCvc",{style:t});u.mount("#card-cvc-element");i.on("change",function(n){var t=document.querySelector(".error");t.classList.remove("visible");n.error?(t.textContent=n.error.message,t.classList.add("visible"),$("#submitButton").prop("disabled",!0)):(t.textContent="",$("#submitButton").prop("disabled",!1))});r.on("change",function(n){var t=document.querySelector(".error");t.classList.remove("visible");n.error?(t.textContent=n.error.message,t.classList.add("visible"),$("#submitButton").prop("disabled",!0)):(t.textContent="",$("#submitButton").prop("disabled",!1))});u.on("change",function(n){var t=document.querySelector(".error");t.classList.remove("visible");n.error?(t.textContent=n.error.message,t.classList.add("visible"),$("#submitButton").prop("disabled",!0)):(t.textContent="",$("#submitButton").prop("disabled",!1))});$("#custom-amount").maskMoney({prefix:"",allowNegative:!1,thousands:".",decimal:".",affixesStay:!1});$("#custom-amount").val($("#amt").val());$('button[name^="btn-custom-amount"]').on("click",function(){var t=$(this).data("amount"),n;t!=null?($("#Amount").val(t),$("#custom-amount-group").addClass("hidden")):($("#custom-amount-group").removeClass("hidden"),n=$('input[id^="custom-amount"]').val(),$("#Amount").val(n!=null?n:$("#amt").val()))});$("#custom-amount").on("change keyup paste input",function(){var n=$("#custom-amount").val();$("#Amount").val(n!=null?n:$("#amt").val())});e=document.getElementById("payment-form");e.addEventListener("submit",function(n){if(n.preventDefault(),$("#Amount").val()<100){swal({text:"Minimum funding amount is $100.00, Thank you.",icon:"info"});return}$("#submitButton").prop("disabled",!0);var t={address_zip:document.getElementById("postal-code").value};f.createToken(i,t).then(o)})});
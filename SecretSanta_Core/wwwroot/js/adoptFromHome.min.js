$(function(){function i(){var f,e,t;$("#pagination").html("");var o=parseInt($("#count").val()),i="",s=o/parseFloat($("#pageSize").val()),r=Math.ceil(s),u;for(u=r<6?1:r-4,f=Math.min(n,u),e=Math.min(5+n,r+1),n>1&&(i+="<li class='list-group-item'><a class='pageBack' ref='#'><<\/a><\/li>"),t=f;t<e;t++)i+=t===n?"<li class='active list-group-item'><a ref='#'>"+t+"<\/a><\/li>":"<li class='list-group-item'><a class='page' ref='#' id='"+t+"'>"+t+"<\/a><\/li>";n<r&&(i+="<li class='list-group-item'><a class='pageForward' ref='#'>><\/a><\/li>");$("#pagination").html(i)}function t(n){var t,f,u;for($("#hearts").empty(),t="",f=0;f<n.length;f+=3){for(t+="<div class='row'>",u=f;u<=Math.min(2+f,n.length-1);u++)t+="<div class='col-md-4'>",t+="<a href='/AdoptHeart/AdoptHeart/"+n[u].recipientNumber+"' style='text-decoration:none'>",t+="<div class='heart' style='height: 300px'>",t+="<div class='intro-message'>",t+="<div class='italicize big-heart-text'>Secret Santa "+n[u].yearString+"<\/div>",t+="<div class='md-heart-text'>"+n[u].nameAgeGenderString+"<\/div>",t+="<div class='md-heart-text'>"+n[u].recipientInfo+"<\/div>",t+="<div class='sm-heart-text'>First Wish: "+n[u].firstWishString+"<\/div>",t+="<div class='sm-heart-text'>Second Wish: "+n[u].secondWishString+"<\/div>",t+="<div class='big-text bold'>R# "+n[u].recipientNumber+"<\/div>",t+=" <\/div>",t+=" <\/div>",t+="<\/a>",t+=" <\/div>";t+=" <\/div>"}$("#hearts").append(t);i();r()}function r(){$.ajax({dataType:"json",url:"/AdoptHeart/GetInitialFilterValues",success:function(n){$("#gender").val(n.gender);$("#age").val(n.ageGroup);$("#giftType").val(n.giftType)},error:function(){window.location.href="/Error"}})}var n=$("#page").val();$.ajax({dataType:"json",url:"/AdoptHeart/GetInitialFilterValues",success:function(n){$("#gender").val(n.gender);$("#age").val(n.ageGroup);$("#giftType").val(n.giftType)},error:function(){window.location.href="/Error"}});$("#gender").change(function(){n=1;$.ajax({dataType:"json",url:"/AdoptHeart/FilterOnGender",data:{gender:$(this).val()},type:"POST",success:function(n){t(n.results)},error:function(){window.location.href="/Error"}})});$("#age").change(function(){n=1;$.ajax({dataType:"json",url:"/AdoptHeart/FilterOnAge",data:{ageGroup:$(this).val()},type:"POST",success:function(n){t(n.results)},error:function(){window.location.href="/Error"}})});$("#giftType").change(function(){n=1;$.ajax({dataType:"json",url:"/AdoptHeart/FilterOnGiftType",data:{giftType:$(this).val()},type:"POST",success:function(n){t(n.results)},error:function(){window.location.href="/Error"}})});$("#clear").click(function(){n=1;$.ajax({url:"/AdoptHeart/Clear",success:function(n){$("#gender").val("");$("#age").val("");$("#giftType").val("");t(n.results)},error:function(){window.location.href="/Error"}})});$(document.body).on("click",".pageBack",function(){n=parseInt(n)-1;$.ajax({url:"/AdoptHeart/Page/"+n,success:function(n){t(n.results)},error:function(){window.location.href="/Error"}})});$(document.body).on("click",".pageForward",function(){n=parseInt(n)+1;$.ajax({url:"/AdoptHeart/Page/"+n,success:function(n){t(n.results)},error:function(){window.location.href="/Error"}})});$(document.body).on("click",".page",function(){var i=$(this).attr("id");n=parseInt(i);$.ajax({url:"/AdoptHeart/Page/"+n,success:function(n){t(n.results)},error:function(){window.location.href="/Error"}})})});
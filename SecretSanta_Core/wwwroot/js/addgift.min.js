function checkValid(){var t="",n=!0,r,u,i;return $("#Name").val()==""&&(n=!1,t+="Name is required<br/>"),$("#Age").val()==""&&(n=!1,t+="Age is required<br/>"),$("#AgeType").val()==""&&(n=!1,t+="Age type is required<br/>"),$("#Gender").val()==""&&(n=!1,t+="Gender is required<br/>"),$("#RecipientInfo").val()==""&&(n=!1,t+="Info is required<br/>"),$("#GiftType").val()==""&&(n=!1,t+="Gift type is required<br/>"),$("#GiftWish").val()==""&&(n=!1,t+="Gift wish is required<br/>"),$("#AltGiftType").val()==""&&(n=!1,t+="Second gift type is required<br/>"),$("#AltGiftWish").val()==""&&(n=!1,t+="Second gift wish is required<br/>"),$("#locationNecessary").val()=="True"&&$("#Location").val()==""&&(n=!1,t+="Location is required<br/>"),r=$("#GiftType").val(),r!==""&&(i=details.find(n=>n.giftDetailId==r),i!=undefined&&i.lblGiftDetail1!=null&&$("#GiftDetail1").val()==""&&(n=!1,t+="Detail is required<br/>"),i!=undefined&&i.lblGiftDetail2!=null&&$("#GiftDetail2").val()==""&&(n=!1,t+="Detail is required<br/>")),u=$("#AltGiftType").val(),u!==""&&(i=details.find(n=>n.giftDetailId==u),i!=undefined&&i.lblGiftDetail1!=null&&$("#AltGiftDetail1").val()==""&&(n=!1,t+="Detail is required<br/>"),i!=undefined&&i.lblGiftDetail2!=null&&$("#AltGiftDetail2").val()==""&&(n=!1,t+="Detail is required<br/>")),$("#GiftType option:selected").text()=="Gift Card"&&$("#AltGiftType option:selected").text()=="Gift Card"&&(n=!1,t+="Only one gift wish can be a gift card<br/>"),$("#Age").val()!=""&&($("#GiftType option:selected").text()=="Gift Card"||$("#AltGiftType option:selected").text()=="Gift Card")&&$("#Age").val()<10&&(n=!1,t+="No child under 10 can receive a gift card."),n?($("#btnSaveSubmit").attr("class","btn btn-primary"),$("#btnSaveEdit").attr("class","btn btn-primary")):($("#btnSaveSubmit").attr("class","btn btn-secondary"),$("#btnSaveEdit").attr("class","btn btn-secondary")),{isValid:n,message:t}}function GetNameAgeGenderString(){var n=$("#Name").val()+" age: "+$("#Age").val()+"yrs - "+$("#Gender").val();$("#AgeType").val()=="months"&&(n=$("#Name").val()+" age: "+$("#Age").val()+"m - "+$("#Gender").val());$("#heart_name_age_gender").html(n)}function GetGiftWishString(){var n="";n=$("#GiftDetail1").length||$("#GiftDetail2").length?$("#GiftDetail2").length?"1st Wish: "+$("#GiftWish").val()+": "+$("#GiftDetail1").val()+"; "+$("#GiftDetail2").val():"1st Wish: "+$("#GiftWish").val()+": "+$("#GiftDetail1").val():"1st Wish: "+$("#GiftWish").val();$("#giftwish").html(n)}function GetAltGiftWishString(){var n="";n=$("#AltGiftDetail1").length||$("#AltGiftDetail2").length?$("#AltGiftDetail2").length?"2nd Wish: "+$("#AltGiftWish").val()+": "+$("#AltGiftDetail1").val()+"; "+$("#AltGiftDetail2").val():"2nd Wish: "+$("#AltGiftWish").val()+": "+$("#AltGiftDetail1").val():"2nd Wish: "+$("#AltGiftWish").val();$("#altgiftwish").html(n)}function GetGiftDetails(n){var t=details.find(t=>t.giftDetailId==n);$("#giftWishDescription").html("");t.giftIdeaDescription!=null&&($("#giftWishDescription").html(t.giftIdeaDescription),t.giftDetailText=="Bike"&&$("#showSize").css("display","block"));$("#giftWishDetails").empty();strHtml="";t.lblGiftDetail1!=null&&(strHtml+="<div class='form-floating mb-3'>",strHtml+="<input type='text' id='GiftDetail1' class='form-control' maxlength='15' ><\/input>",strHtml+="<label for='GiftDetail1' class='col-form-label'>"+t.lblGiftDetail1+"<\/label>",strHtml+="<\/div>");t.lblGiftDetail2!=null&&(strHtml+="<div class='form-floating mb-3'>",strHtml+="<input type='text' id='GiftDetail2' class='form-control' maxlength='15' ><\/input>",strHtml+="<label for='GiftDetail2' class='col-form-label'>"+t.lblGiftDetail2+"<\/label>",strHtml+="<\/div>");$("#giftWishDetails").html(strHtml);t.lblGiftDetail1!=null&&document.getElementById("GiftDetail1").addEventListener("keyup",function(){GetGiftWishString();checkValid()});t.lblGiftDetail2!=null&&document.getElementById("GiftDetail2").addEventListener("keyup",function(){GetGiftWishString();checkValid()})}function GetAltGiftDetails(n){var t=details.find(t=>t.giftDetailId==n);$("#altGiftWishDescription").html("");t.giftIdeaDescription!=null&&($("#altGiftWishDescription").html(t.giftIdeaDescription),t.giftDetailText=="Bike"&&$("#altShowSize").css("display","block"));$("#altGiftWishDetails").empty();strHtml="";t.lblGiftDetail1!=null&&(strHtml+="<div class='form-floating mb-3'>",strHtml+="<input type='text' id='AltGiftDetail1' class='form-control' maxlength='15' ><\/input>",strHtml+="<label for='AltGiftDetail1'>"+t.lblGiftDetail1+"<\/label>",strHtml+="<\/div>");t.lblGiftDetail2!=null&&(strHtml+="<div class='form-floating mb-3'>",strHtml+="<input type='text' id='AltGiftDetail2' class='form-control' maxlength='15' ><\/input>",strHtml+="<label for='AltGiftDetail2'>"+t.lblGiftDetail2+"<\/label>",strHtml+="<\/div>");$("#altGiftWishDetails").html(strHtml);t.lblGiftDetail1!=null&&document.getElementById("AltGiftDetail1").addEventListener("keyup",function(){GetGiftWishString();checkValid()});t.lblGiftDetail2!=null&&document.getElementById("AltGiftDetail2").addEventListener("keyup",function(){GetGiftWishString();checkValid()})}var details=[];$(document).ready(function(){$.ajax({url:"/GiftRecipient/GetGiftDetails",success:function(n){for(var i,t=0;t<n.result.length;t++)i={giftDetailId:n.result[t].giftDetailId,giftIdeaDescription:n.result[t].giftIdeaDescription,giftDetailText:n.result[t].giftDetailText,lblGiftDetail1:n.result[t].lblGiftDetail1,lblGiftDetail2:n.result[t].lblGiftDetail2},details.push(i)},error:function(n){alert(n.responseText)}})});$("#GiftType").on("change",function(){$("#showSize").css("display","none");var n=$(this).val();n!=""&&GetGiftDetails(n);$("#GiftType option:selected").text()=="Gift Card"||$("#GiftType option:selected").text()=="Bike"||$("#GiftType option:selected").text()=="Shoes"?$("#GiftWish").val($("#GiftType option:selected").text()+"; "):$("#GiftWish").val("");GetGiftWishString();checkValid()});$("#AltGiftType").on("change",function(){$("#altShowSize").css("display","none");var n=$(this).val();n!=""&&GetAltGiftDetails(n);$("#AltGiftType option:selected").text()=="Gift Card"||$("#AltGiftType option:selected").text()=="Bike"||$("#AltGiftType option:selected").text()=="Shoes"?$("#AltGiftWish").val($("#AltGiftType option:selected").text()+"; "):$("#AltGiftWish").val("");GetAltGiftWishString();checkValid()});$("#btnNameInfo").on("click",function(){$("#modalNameInfo").modal("show")});$("#btnRecipientInfo").on("click",function(){$("#modalRecipientInfo").modal("show")});$(".info-wish").on("click",function(){$("#modalWishInfo").modal("show")});$("#Name, #Age").on("keyup",function(){GetNameAgeGenderString();checkValid()});$("#Gender, #AgeType").on("change",function(){GetNameAgeGenderString();checkValid()});$("#RecipientInfo").on("keyup",function(){$("#heart_recipient_info").html($("#RecipientInfo").val());checkValid()});$("#GiftWish, #GiftDetail1, #GiftDetail2").on("keyup",function(){GetGiftWishString();checkValid()});$("#AltGiftWish, #AltGiftDetail1, #AltGiftDetail2").on("keyup",function(){GetAltGiftWishString();checkValid()});$("#btnSaveSubmit").on("click",function(){$("#errorMessage").empty();let{isValid:n,message:t}=checkValid();n?($("#heartModalBody").empty(),$("#heart").clone().attr("style","margin:auto").appendTo("#heartModalBody"),$("#heartModal").modal("show")):($("#errorMessage").html(t),$("#modalWarning").modal("show"))});$("#confirm").on("click",function(){$("#heartModal").modal("hide");var n={Location:$("#Location").val(),Name:$("#Name").val(),Age:$("#Age").val(),AgeType:$("#AgeType").val(),Gender:$("#Gender").val(),RecipientInfo:$("#RecipientInfo").val(),GiftWish:$("#GiftWish").val(),GiftType:$("#GiftType").val(),GiftDetail1:$("#GiftDetail1").val(),GiftDetail2:$("#GiftDetail2").val(),AltGiftWish:$("#AltGiftWish").val(),AltGiftType:$("#AltGiftType").val(),AltGiftDetail1:$("#AltGiftDetail1").val(),AltGiftDetail2:$("#AltGiftDetail2").val(),Status:"20"};$.ajax({dataType:"json",url:"/GiftRecipient/AddGiftRecipient",data:n,type:"POST",success:function(){setTimeout(function(){$("#modalCloseContinue").modal("show")},30)},error:function(){window.location.href="/Error"}})});$("#btnSaveEdit").on("click",function(){var n,t,i;$("#errorMessage").empty(),{isValid:n,message:t}=checkValid();n?(i={Location:$("#Location").val(),Name:$("#Name").val(),Age:$("#Age").val(),AgeType:$("#AgeType").val(),Gender:$("#Gender").val(),RecipientInfo:$("#RecipientInfo").val(),GiftWish:$("#GiftWish").val(),GiftType:$("#GiftType").val(),GiftDetail1:$("#GiftDetail1").val(),GiftDetail2:$("#GiftDetail2").val(),AltGiftWish:$("#AltGiftWish").val(),AltGiftType:$("#AltGiftType").val(),AltGiftDetail1:$("#AltGiftDetail1").val(),AltGiftDetail2:$("#AltGiftDetail2").val(),Status:"10"},$.ajax({dataType:"json",url:"/GiftRecipient/AddGiftRecipient",data:i,type:"POST",success:function(){setTimeout(function(){$("#modalCloseContinue").modal("show")},30)},error:function(){window.location.href="/Error"}})):($("#errorMessage").html(t),$("#modalWarning").modal("show"))});$("#btnDone").on("click",function(){window.location.href="/GiftRecipient/Index"});$("#btnAnother").on("click",function(){location.reload(!0)});document.getElementById("Age").addEventListener("input",function(){this.value.length>3&&(this.value=this.value.slice(0,3))});